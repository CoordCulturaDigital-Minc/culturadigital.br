/* Based on: 
Setting Equal Heights with jQuery (http://www.filamentgroup.com/lab/setting_equal_heights_with_jquery/)
Retaining Scalable Interfaces with Pixel-to-EM Conversion (http://www.filamentgroup.com/lab/update_jquery_plugin_for_retaining_scalable_interfaces_with_pixel_to_em_con/)
*/

jQuery.fn.equalHeights=function(px){jQuery(this).each(function(){var currentTallest=0;jQuery(this).children().each(function(i){if(jQuery(this).height()>currentTallest){currentTallest=jQuery(this).height();}});if(!px||!Number.prototype.pxToEm)currentTallest=currentTallest.pxToEm();
jQuery(this).children().css({'height':currentTallest});});return this;};

Number.prototype.pxToEm=String.prototype.pxToEm=function(settings){settings=jQuery.extend({scope:'body',reverse:false},settings);var pxVal=(this=='')?0:parseFloat(this);var scopeVal;var getWindowWidth=function(){var de=document.documentElement;return self.innerWidth||(de&&de.clientWidth)||document.body.clientWidth;};if(settings.scope=='body'&&jQuery.browser.msie&&(parseFloat(jQuery('body').css('font-size'))/getWindowWidth()).toFixed(1)>0.0){var calcFontSize=function(){return(parseFloat(jQuery('body').css('font-size'))/getWindowWidth()).toFixed(3)*16;};scopeVal=calcFontSize();}
else{scopeVal=parseFloat(jQuery(settings.scope).css("font-size"));};var result=(settings.reverse==true)?(pxVal*scopeVal).toFixed(2)+'px':(pxVal/scopeVal).toFixed(2)+'em';return result;};